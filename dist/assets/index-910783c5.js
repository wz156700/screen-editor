import{_ as h,G as i,u as b,H as _,g as u,q as f,o as r,c as l,F as $,h as k,l as o,y as c,E as v,d as w,z as y,e as C}from"./index-52dfe5e3.js";const I={__name:"index",setup(D){const s=i(),d=b(),{indexDBSearch:g}=_().appContext.config.globalProperties;let p=u({}),t=u({});const x=()=>{g("project",s.params.id).then(e=>{if(!e){v.error("查询项目不存在"),d.replace("/");return}let n=e.domData?JSON.parse(e.domData):null;n&&(p.value={...n}),e.width=e.ratio.split("*")[0]+"px",e.height=e.ratio.split("*")[1]+"px",e.backgroundColor=e.backgroundColor?e.backgroundColor:"transparent",t.value={...e}})};return f(()=>{if(!s.params.id){d.replace("/");return}x()}),(e,n)=>(r(),l("div",{class:"preview",style:c({height:o(t).height?o(t).height:"100vh",width:o(t).width?o(t).width:"100vw",background:o(t).backgroundColor?o(t).backgroundColor:"transparent"})},[(r(!0),l($,null,k(o(p),a=>(r(),l("div",{key:a.uuid+a.width+a.height+a.mtl+a.mtr+a.mbr+a.mbl,class:"ap-editor-whiteboard-box-item",style:c({left:a.left+"px",top:a.top+"px",width:a.width+"px",height:a.height+"px",transform:`rotate(${a.angle}deg)`,transformOrigin:`${a.angleX}px ${a.angleY}px`,zIndex:a.zIndex,borderRadius:`${a.btl}px ${a.btr}px ${a.bbr}px ${a.bbl}px`,padding:`${a.mtl}px ${a.mtr}px ${a.mbr}px ${a.mbl}px`,alignItems:`${a.alignW}`,justifyContent:`${a.alignH}`})},[(r(),w(C(a.type),y({class:"ap-editor-whiteboard-box-item-com",key:a.uuid},a.attribute),null,16))],4))),128))],4))}},m=h(I,[["__scopeId","data-v-edab77b7"]]);export{m as default};
